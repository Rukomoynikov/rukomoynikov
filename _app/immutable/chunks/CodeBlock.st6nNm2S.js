import{e as B,j as $,g as G,a as h,k as g,b as E}from"./legacy.kROiCmhR.js";import{P as J,F as q,t as L,D as K,v as N,m as Q,x as S,o as U,q as V,l as W,Z as X,aw as ee,d as te,ax as ae,i as se,ay as re,E as oe,f as ne,I as ie,c as b,s as P,r as w,N as k,g as ce,M as de,O as z}from"./utils.CrDVYUnt.js";import{s as O}from"./render.CSCXmMM-.js";import{s as fe,p as R,i as T,a as le}from"./props.D51blVrW.js";import{t as I}from"./TwoColsContainer.zeqId5Fh.js";import{i as ve}from"./lifecycle.DrXUT_Pr.js";import{p as me}from"./stores.pUKqf64p.js";function ue(a,e,t,s,c){var n=a,o="",d;J(()=>{if(o===(o=e()??"")){q&&L();return}d!==void 0&&(X(d),d=void 0),o!==""&&(d=K(()=>{if(q){N.data;for(var r=L(),f=r;r!==null&&(r.nodeType!==8||r.data!=="");)f=r,r=Q(r);if(r===null)throw S(),U;B(N,f),n=V(r);return}var _=o+"",m=$(_);B(W(m),m.lastChild),n.before(m)}))})}function pe(a,e,t){ee(()=>{var s=te(()=>e(a,t==null?void 0:t())||{});if(s!=null&&s.update){var c=!1,n={};ae(()=>{var o=t();se(o),c&&re(n,o)&&(n=o,s.update(o))}),c=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}async function _e(a){if("clipboard"in navigator)await navigator.clipboard.writeText(a);else{const e=document.createElement("input");e.type="text",e.disabled=!0,e.style.setProperty("position","fixed"),e.style.setProperty("z-index","-100"),e.style.setProperty("pointer-events","none"),e.style.setProperty("opacity","0"),e.value=a,document.body.appendChild(e),e.click(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}function D(a){return typeof a=="string"?{text:a}:a}function F(a,e,t=["click"]){for(const s of t)a.addEventListener(s,e,!0)}function j(a,e,t=["click"]){for(const s of t)a.removeEventListener(s,e,!0)}const C=(a,e)=>{let t=D(e);const s=async c=>{var o,d;const n=t.text;try{await _e(n),(o=t.onCopy)==null||o.call(t,{text:n,event:c})}catch(r){const f=new Error(`${r instanceof Error?r.message:r}`,{cause:r});(d=t.onError)==null||d.call(t,{error:f,event:c})}};return F(a,s,t.events),{update(c){j(a,s,t.events),t=D(c),F(a,s,t.events)},destroy(){j(a,s,t.events)}}};var ye=E('<div class="fileName svelte-1cmzv5q"> </div>'),he=E('<div class="codeBlock svelte-1cmzv5q"><button class="copyButton svelte-1cmzv5q">Copy</button> <!> <!></div>'),ge=E("<div><strong> </strong></div>");function qe(a,e){var x;oe(e,!1);const t=fe(),s=()=>le(me,"$page",t);let c=R(e,"snippet",8,""),n=R(e,"fileName",8,void 0);const o=(x=s().data.codes)==null?void 0:x[c()];let d=de(!1);const r=()=>{z(d,!0)},f=()=>{z(d,!1)};ve();var _=G(),m=ne(_);{var A=l=>{var i=he(),v=b(i);pe(v,(u,p)=>C==null?void 0:C(u,p),()=>o.raw);var y=P(v,2);{var M=u=>{var p=ye(),Z=b(p);w(p),k(()=>O(Z,`File: ${n()??""}`)),h(u,p)};T(y,u=>{n()&&u(M)})}var Y=P(y,2);ue(Y,()=>o.code),w(i),k(()=>{I(i,"codeBlock--with-filename",n()),I(v,"copyButton--show",ce(d))}),g("focus",i,r),g("blur",i,f),g("mouseleave",i,f),g("mouseenter",i,r),h(l,i)},H=l=>{var i=ge(),v=b(i),y=b(v);w(v),w(i),k(()=>O(y,`Invalid code snippet: ${c()??""}`)),h(l,i)};T(m,l=>{o?l(A):l(H,!1)})}h(a,_),ie()}export{qe as C};
