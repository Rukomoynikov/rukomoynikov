import{a as k,b as X,g as L,d as P,i as q,e as Q,h as F,j as W,k as D,l as B,m as Z,E as $,o as j,p as ee,q as N,t as re,u as ne,v as y,w as fe,x as le,H as ae,y as V,z as H,A as R,C as ie,B as ue,D as A,F as G,G as J,I as z,J as se,K as oe,L as ve}from"./BFQ7Yu01.js";function ge(e,l){return l}function te(e,l,a){for(var d=[],g=l.length,u,i=l.length,n=0;n<g;n++){let s=l[n];J(s,()=>{if(u){if(u.pending.delete(s),u.done.add(s),u.pending.size===0){var c=e.outrogroups;O(y(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=d.length===0&&a!==null;if(o){var f=a,v=f.parentNode;oe(v),v.append(f),e.items.clear()}O(l,!o)}else u={pending:new Set(l),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(u)}function O(e,l=!0){for(var a=0;a<e.length;a++)ve(e[a],l)}var Y;function he(e,l,a,d,g,u=null){var i=e,n=new Map;{var o=e;i=N?D(re(o)):o.appendChild(k())}N&&ne();var f=null,v=P(()=>{var p=a();return fe(p)?p:p==null?[]:y(p)}),s,c=!0;function x(){_.fallback=f,de(_,s,i,l,d),f!==null&&(s.length===0?f.f&A?(f.f^=A,M(f,null,i)):G(f):J(f,()=>{f=null}))}var r=X(()=>{s=L(v);var p=s.length;let E=!1;if(N){var h=le(i)===ae;h!==(p===0)&&(i=V(),D(i),H(!1),E=!0)}for(var S=new Set,m=Q,C=W(),T=0;T<p;T+=1){N&&R.nodeType===ie&&R.data===ue&&(i=R,E=!0,H(!1));var b=s[T],I=d(b,T),t=c?null:n.get(I);t?(t.v&&q(t.v,b),t.i&&q(t.i,T),C&&m.skipped_effects.delete(t.e)):(t=ce(n,c?i:Y??(Y=k()),b,I,T,g,l,a),c||(t.e.f|=A),n.set(I,t)),S.add(I)}if(p===0&&u&&!f&&(c?f=F(()=>u(i)):(f=F(()=>u(Y??(Y=k()))),f.f|=A)),N&&p>0&&D(V()),!c)if(C){for(const[K,U]of n)S.has(K)||m.skipped_effects.add(U.e);m.oncommit(x),m.ondiscard(()=>{})}else x();E&&H(!0),L(v)}),_={effect:r,items:n,outrogroups:null,fallback:f};c=!1,N&&(i=R)}function de(e,l,a,d,g){var I;var u=l.length,i=e.items,n=e.effect.first,o,f=null,v=[],s=[],c,x,r,_;for(_=0;_<u;_+=1){if(c=l[_],x=g(c,_),r=i.get(x).e,e.outrogroups!==null)for(const t of e.outrogroups)t.pending.delete(r),t.done.delete(r);if(r.f&A)if(r.f^=A,r===n)M(r,null,a);else{var p=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,f,r),w(e,r,p),M(r,p,a),f=r,v=[],s=[],n=f.next;continue}if(r.f&z&&G(r),r!==n){if(o!==void 0&&o.has(r)){if(v.length<s.length){var E=s[0],h;f=E.prev;var S=v[0],m=v[v.length-1];for(h=0;h<v.length;h+=1)M(v[h],E,a);for(h=0;h<s.length;h+=1)o.delete(s[h]);w(e,S.prev,m.next),w(e,f,S),w(e,m,E),n=E,f=m,_-=1,v=[],s=[]}else o.delete(r),M(r,n,a),w(e,r.prev,r.next),w(e,r,f===null?e.effect.first:f.next),w(e,f,r),f=r;continue}for(v=[],s=[];n!==null&&n!==r;)(o??(o=new Set)).add(n),s.push(n),n=n.next;if(n===null)continue}r.f&A||v.push(r),f=r,n=r.next}if(e.outrogroups!==null){for(const t of e.outrogroups)t.pending.size===0&&(O(y(t.done)),(I=e.outrogroups)==null||I.delete(t));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var C=[];if(o!==void 0)for(r of o)r.f&z||C.push(r);for(;n!==null;)!(n.f&z)&&n!==e.fallback&&C.push(n),n=n.next;var T=C.length;if(T>0){var b=u===0?a:null;te(e,C,b)}}}function ce(e,l,a,d,g,u,i,n){var o=i&j?i&ee?B(a):Z(a,!1,!1):null,f=i&$?B(g):null;return{v:o,i:f,e:F(()=>(u(l,o??a,f??g,n),()=>{e.delete(d)}))}}function M(e,l,a){if(e.nodes)for(var d=e.nodes.start,g=e.nodes.end,u=l&&!(l.f&A)?l.nodes.start:a;d!==null;){var i=se(d);if(u.before(d),d===g)return;d=i}}function w(e,l,a){l===null?e.effect.first=a:l.next=a,a===null?e.effect.last=l:a.prev=l}export{he as e,ge as i};
