import{b as n,a as s,t as $}from"../chunks/disclose-version.CUJr2fC1.js";import{f as z,n as i,s as r,c as U,r as L}from"../chunks/runtime.KMv9Mpc9.js";import{T as p}from"../chunks/Title.Rt6Roc2-.js";import{C as A,T as l}from"../chunks/TwoColsContainer.DhZyNmFy.js";import{P as c}from"../chunks/Paragraph.CJbIHcfA.js";import{L as C}from"../chunks/LinksList.Bw3jPvWm.js";import{C as u}from"../chunks/CodeBlock.XXLf0HXK.js";import{I as H}from"../chunks/Image.CnxLGc82.js";const Q=""+new URL("../assets/cover.C_mDQ0Hh.png?enhanced=true",import.meta.url).href,q=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),E=""+new URL("../assets/rails-basic-app@2x.DC0Q7ukl.webp?enhanced=true",import.meta.url).href,F=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),G=""+new URL("../assets/rails-on-docker-facebook-share.6WUk-eU9.jpg?enhanced=true",import.meta.url).href,Y=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"})),J=""+new URL("../assets/rails-on-docker-facebook-share.6WUk-eU9.jpg?h=630&w=1200",import.meta.url).href,K=Object.assign({"./assets/cover.png":q,"./assets/rails-basic-app@2x.webp":F,"./assets/rails-on-docker-facebook-share.jpg":Y}),N=()=>({image:J,description:"Setup docker for Rails and use it for running Rails application.",title:"Rails on Docker",pictures:K}),ce=Object.freeze(Object.defineProperty({__proto__:null,load:N},Symbol.toStringTag,{value:"Module"})),V=""+new URL("../assets/rails-basic-app@2x.DC0Q7ukl.webp?enhanced",import.meta.url).href;var X=$('<div slot="aside"><!></div>'),Z=$('<div slot="aside"><!></div>'),ee=$("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function pe(B){A(B,{children:(W,te)=>{var h=ee(),f=z(h);p(f,{level:"1",children:(e,o)=>{i();var t=n("Rails on Docker");s(e,t)},$$slots:{default:!0}});var m=r(f,2);p(m,{level:"2",children:(e,o)=>{i();var t=n("Why Docker?");s(e,t)},$$slots:{default:!0}});var v=r(m,2);l(v,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n(`It has always been easier to supply the necessary tools locally. If you need to have multiple
			versions, then rvm or nvm solve the problem. Then came Docker. Until this year, I had
			successfully managed to avoid it. On projects where the guys worked with Docker, I instead
			installed everything locally. But, I thought that enough fighting and it's time to try to live
			with the idea of "docker for everything". It's simply time to admit either i work using Docker
			or i don't work at all.`);s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var _=r(v,2);p(_,{level:"2",children:(e,o)=>{i();var t=n("Generating Ruby on Rails application");s(e,t)},$$slots:{default:!0}});var g=r(_,2);l(g,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n(`Well I don't have ruby installed locally. And I need to generate a new Rails application or
			experiment in IRB.`);s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var b=r(g,2);l(b,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n(`The first thing I did was look at the official Rails image. It turned out to be deprecated,
			and the authors suggested Ruby as a replacement.Using Ruby image, I was unable to generate a
			Rails application, so Imade my own Docker image.`);s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var k=r(b,2);l(k,{children:(e,o)=>{u(e,{snippet:"posts/rails-on-docker/example.dockerfile"})},$$slots:{default:!0,aside:(e,o)=>{var t=X(),d=U(t);C(d,{links:[["Image on Docker Hub","https://hub.docker.com/repository/docker/rukomoynikov/rails/general"]]}),L(t),s(e,t)}}});var y=r(k,2);p(y,{level:"2",children:(e,o)=>{i();var t=n("Using the image");s(e,t)},$$slots:{default:!0}});var P=r(y,2);l(P,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n(`The following command will generate a new Rails application in the current folder and install
			required gems in the gems folder. As you know, a container cannot change its content after it
			has been built.Therefore, all application files and gems will be stored on the host machine.`);s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=r(P,2);l(w,{children:(e,o)=>{u(e,{snippet:"posts/rails-on-docker/rails_new.sh"})},$$slots:{default:!0}});var x=r(w,2);l(x,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n(`Launching the application is not much more difficult. But, in a simple form, it will only work
			if you use the sqlite database.`);s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var R=r(x,2);l(R,{children:(e,o)=>{u(e,{snippet:"posts/rails-on-docker/start_rails.sh"})},$$slots:{default:!0}});var I=r(R,2);l(I,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n("Running IRB. Or you can enter console and run ruby files from local machine.");s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var D=r(I,2);l(D,{children:(e,o)=>{u(e,{snippet:"posts/rails-on-docker/rails_bash.sh"})},$$slots:{default:!0}});var j=r(D,2);l(j,{children:(e,o)=>{H(e,{src:V,alt:"Rails default page"})},$$slots:{default:!0}});var T=r(j,2);p(T,{level:"2",children:(e,o)=>{i();var t=n("What's next?");s(e,t)},$$slots:{default:!0}});var O=r(T,2);l(O,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n(`Above you saw an example of basic Rails application used SQLite. In order to use Postgresql
			and Webpacker you need something more complicated than simple Dockerfile. You need
			docker-compose. There you will be able to separate application into a ruby service, and the
			client service.`);s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var S=r(O,2);l(S,{children:(e,o)=>{c(e,{children:(t,d)=>{i();var a=n("Here is example of docker-compose.yml");s(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var M=r(S,2);l(M,{children:(e,o)=>{u(e,{snippet:"posts/rails-on-docker/docker-compose.yml"})},$$slots:{default:!0,aside:(e,o)=>{var t=Z(),d=U(t);C(d,{links:[["Heavily inspired by Evil Martians article","https://evilmartians.com/chronicles/ruby-on-whales-docker-for-ruby-rails-development"]]}),L(t),s(e,t)}}}),s(W,h)},$$slots:{default:!0}})}export{pe as component,ce as universal};
