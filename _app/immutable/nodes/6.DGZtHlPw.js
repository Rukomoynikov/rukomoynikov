import{b as i,a,t as m}from"../chunks/disclose-version.BSXahmD8.js";import{f as A,n,s,c as C,r as j}from"../chunks/runtime.C1_VR7Gp.js";import{T as d}from"../chunks/Title.C8DivMOs.js";import{C as J,T as l}from"../chunks/TwoColsContainer.3lrAmiQE.js";import{P as c}from"../chunks/Paragraph.nm_XGdWa.js";import{L as T}from"../chunks/LinksList.DUfg0cUs.js";import{C as u}from"../chunks/CodeBlock.BlViz3Dv.js";import{I as M}from"../chunks/Image.COFkG-gc.js";const q={sources:{avif:""+new URL("../assets/cover.BShJ1k97.avif",import.meta.url).href+" 600w, "+new URL("../assets/cover.DhrMF1G2.avif",import.meta.url).href+" 1200w",webp:""+new URL("../assets/cover.DaBLzy7j.webp",import.meta.url).href+" 600w, "+new URL("../assets/cover.CZRfxC46.webp",import.meta.url).href+" 1200w",png:""+new URL("../assets/cover.C5fjYcMn.png",import.meta.url).href+" 600w, "+new URL("../assets/cover.T5_fA5xH.png",import.meta.url).href+" 1200w"},img:{src:""+new URL("../assets/cover.T5_fA5xH.png",import.meta.url).href,w:1200,h:630}},N=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),Z={sources:{avif:""+new URL("../assets/rails-basic-app@2x.BeLHzdCv.avif",import.meta.url).href+" 1552w, "+new URL("../assets/rails-basic-app@2x.ByB3xnxJ.avif",import.meta.url).href+" 3104w",webp:""+new URL("../assets/rails-basic-app@2x.DVJaPkE7.webp",import.meta.url).href+" 1552w, "+new URL("../assets/rails-basic-app@2x.BdGO15uA.webp",import.meta.url).href+" 3104w",png:""+new URL("../assets/rails-basic-app@2x.Bu9TSOHD.png",import.meta.url).href+" 1552w, "+new URL("../assets/rails-basic-app@2x.C8N3-p1O.png",import.meta.url).href+" 3104w"},img:{src:""+new URL("../assets/rails-basic-app@2x.C8N3-p1O.png",import.meta.url).href,w:3104,h:1804}},G=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"})),V={sources:{avif:""+new URL("../assets/rails-on-docker-facebook-share.D-YQpHNP.avif",import.meta.url).href+" 1200w, "+new URL("../assets/rails-on-docker-facebook-share.Cw6Pzwd9.avif",import.meta.url).href+" 2400w",webp:""+new URL("../assets/rails-on-docker-facebook-share.D6t6OhHD.webp",import.meta.url).href+" 1200w, "+new URL("../assets/rails-on-docker-facebook-share.SyDYChbT.webp",import.meta.url).href+" 2400w",jpeg:""+new URL("../assets/rails-on-docker-facebook-share.C-cVJZZw.jpeg",import.meta.url).href+" 1200w, "+new URL("../assets/rails-on-docker-facebook-share.B9ow_qDu.jpeg",import.meta.url).href+" 2400w"},img:{src:""+new URL("../assets/rails-on-docker-facebook-share.B9ow_qDu.jpeg",import.meta.url).href,w:2400,h:1260}},W=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),Y=""+new URL("../assets/rails-on-docker-facebook-share.C-cVJZZw.jpeg",import.meta.url).href,E=Object.assign({"./assets/cover.png":N,"./assets/rails-basic-app@2x.webp":G,"./assets/rails-on-docker-facebook-share.jpg":W}),F=()=>({image:Y,description:"Setup docker for Rails and use it for running Rails application.",title:"Rails on Docker",pictures:E}),ce=Object.freeze(Object.defineProperty({__proto__:null,load:F},Symbol.toStringTag,{value:"Module"})),Q={sources:{avif:""+new URL("../assets/rails-basic-app@2x.BeLHzdCv.avif",import.meta.url).href+" 1552w, "+new URL("../assets/rails-basic-app@2x.ByB3xnxJ.avif",import.meta.url).href+" 3104w",webp:""+new URL("../assets/rails-basic-app@2x.DVJaPkE7.webp",import.meta.url).href+" 1552w, "+new URL("../assets/rails-basic-app@2x.BdGO15uA.webp",import.meta.url).href+" 3104w",png:""+new URL("../assets/rails-basic-app@2x.Bu9TSOHD.png",import.meta.url).href+" 1552w, "+new URL("../assets/rails-basic-app@2x.C8N3-p1O.png",import.meta.url).href+" 3104w"},img:{src:""+new URL("../assets/rails-basic-app@2x.C8N3-p1O.png",import.meta.url).href,w:3104,h:1804}};var K=m('<div slot="aside"><!></div>'),X=m('<div slot="aside"><!></div>'),ee=m("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function de(S){J(S,{children:(H,te)=>{var h=ee(),f=A(h);d(f,{level:"1",children:(e,r)=>{n();var t=i("Rails on Docker");a(e,t)},$$slots:{default:!0}});var $=s(f,2);d($,{level:"2",children:(e,r)=>{n();var t=i("Why Docker?");a(e,t)},$$slots:{default:!0}});var v=s($,2);l(v,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i(`It has always been easier to supply the necessary tools locally. If you need to have multiple
			versions, then rvm or nvm solve the problem. Then came Docker. Until this year, I had
			successfully managed to avoid it. On projects where the guys worked with Docker, I instead
			installed everything locally. But, I thought that enough fighting and it's time to try to live
			with the idea of "docker for everything". It's simply time to admit either i work using Docker
			or i don't work at all.`);a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=s(v,2);d(w,{level:"2",children:(e,r)=>{n();var t=i("Generating Ruby on Rails application");a(e,t)},$$slots:{default:!0}});var b=s(w,2);l(b,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i(`Well I don't have ruby installed locally. And I need to generate a new Rails application or
			experiment in IRB.`);a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=s(b,2);l(g,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i(`The first thing I did was look at the official Rails image. It turned out to be deprecated,
			and the authors suggested Ruby as a replacement.Using Ruby image, I was unable to generate a
			Rails application, so Imade my own Docker image.`);a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var _=s(g,2);l(_,{children:(e,r)=>{u(e,{snippet:"posts/rails-on-docker/example.dockerfile"})},$$slots:{default:!0,aside:(e,r)=>{var t=K(),p=C(t);T(p,{links:[["Image on Docker Hub","https://hub.docker.com/repository/docker/rukomoynikov/rails/general"]]}),j(t),a(e,t)}}});var k=s(_,2);d(k,{level:"2",children:(e,r)=>{n();var t=i("Using the image");a(e,t)},$$slots:{default:!0}});var y=s(k,2);l(y,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i(`The following command will generate a new Rails application in the current folder and install
			required gems in the gems folder. As you know, a container cannot change its content after it
			has been built.Therefore, all application files and gems will be stored on the host machine.`);a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var R=s(y,2);l(R,{children:(e,r)=>{u(e,{snippet:"posts/rails-on-docker/rails_new.sh"})},$$slots:{default:!0}});var x=s(R,2);l(x,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i(`Launching the application is not much more difficult. But, in a simple form, it will only work
			if you use the sqlite database.`);a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var P=s(x,2);l(P,{children:(e,r)=>{u(e,{snippet:"posts/rails-on-docker/start_rails.sh"})},$$slots:{default:!0}});var L=s(P,2);l(L,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i("Running IRB. Or you can enter console and run ruby files from local machine.");a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=s(L,2);l(U,{children:(e,r)=>{u(e,{snippet:"posts/rails-on-docker/rails_bash.sh"})},$$slots:{default:!0}});var D=s(U,2);l(D,{children:(e,r)=>{M(e,{src:Q,alt:"Rails default page"})},$$slots:{default:!0}});var O=s(D,2);d(O,{level:"2",children:(e,r)=>{n();var t=i("What's next?");a(e,t)},$$slots:{default:!0}});var B=s(O,2);l(B,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i(`Above you saw an example of basic Rails application used SQLite. In order to use Postgresql
			and Webpacker you need something more complicated than simple Dockerfile. You need
			docker-compose. There you will be able to separate application into a ruby service, and the
			client service.`);a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var I=s(B,2);l(I,{children:(e,r)=>{c(e,{children:(t,p)=>{n();var o=i("Here is example of docker-compose.yml");a(t,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var z=s(I,2);l(z,{children:(e,r)=>{u(e,{snippet:"posts/rails-on-docker/docker-compose.yml"})},$$slots:{default:!0,aside:(e,r)=>{var t=X(),p=C(t);T(p,{links:[["Heavily inspired by Evil Martians article","https://evilmartians.com/chronicles/ruby-on-whales-docker-for-ruby-rails-development"]]}),j(t),a(e,t)}}}),a(H,h)},$$slots:{default:!0}})}export{de as component,ce as universal};
