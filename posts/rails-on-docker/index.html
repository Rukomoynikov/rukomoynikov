<!DOCTYPE html>
<html lang="en" class="astro-EGBBIMUK">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">

    <!-- SEO --><meta property="og:type" content="website">

<meta name="apple-mobile-web-app-title" content="Max Rukomoynikov's site">
<meta property="og:site_name" content="Max Rukomoynikov's site">

<title>How to generate Rails app and run it without installing ruby locally</title>
<meta property="og:title" content="How to generate Rails app and run it without installing ruby locally">
<meta name="twitter:title" content="How to generate Rails app and run it without installing ruby locally">

<meta property="og:image" content="/_image/assets/images/posts/rails-on-docker/facebook-share_2400x1260.jpg">
<meta property="og:image:alt" content="In internet plenty of articles about Dockerizing existing application. But, what if you don't have installed ruby locally and need to generate new app.">
<meta name="twitter:image:src" content="/_image/assets/images/posts/rails-on-docker/facebook-share_2400x1260.jpg">

<meta name="twitter:card" content="summary_large_image">

<meta name="description" property="og:description" content="In internet plenty of articles about Dockerizing existing application. But, what if you don't have installed ruby locally and need to generate new app.">
<meta name="twitter:description" content="In internet plenty of articles about Dockerizing existing application. But, what if you don't have installed ruby locally and need to generate new app.">
<!-- /SEO -->

  <link rel="stylesheet" href="/assets/41ae0bfb.4f210896.css" />
<link rel="stylesheet" href="/assets/03ac1450.2c2b50b0.css" />
<link rel="stylesheet" href="/assets/03bf05bc.67a900e6.css" />
<link rel="stylesheet" href="/assets/adcb6cd4.6c0059f2.css" />
<link rel="stylesheet" href="/assets/ac57aff7.dc5e4e57.css" />
<link rel="stylesheet" href="/assets/posts-elixir-telegram-bot-posts-rails-on-docker.9f851a2a.css" /></head>
  <body class=" astro-EGBBIMUK">
    <div class="header astro-2DVZGQPG">
  <a href="/" class="logo astro-2DVZGQPG">
    Maxim<br class="astro-2DVZGQPG">Rukomoynikov
  </a>
  <div class="slogan astro-2DVZGQPG">
    I love to create. Developer and designer. Looking forward to make cool things.
  </div>
  <div class="links astro-2DVZGQPG">
    <a class="link astro-2DVZGQPG" href="https://twitter.com/Rukomoynikov">twitter</a>
    <a class="link astro-2DVZGQPG" href="https://www.facebook.com/rukomoynikov">facebook</a>
    <a class="link astro-2DVZGQPG" href="https://www.behance.net/ruq">behance</a>
  </div>
</div>


    <div class="content astro-EGBBIMUK">
      <div class="hero-title astro-3MHE6O6Q">
  <div class="hero-title__container astro-3MHE6O6Q">
    <div class="hero-title__text-container astro-3MHE6O6Q">
      <div class="hero-title__tag astro-3MHE6O6Q">Ruby</div><div class="hero-title__tag astro-3MHE6O6Q">Docker</div>
      <h2 class="hero-title__title astro-3MHE6O6Q">
        How to generate Rails app and run it without installing ruby locally
      </h2>
      <div class="hero-title__subtitle">In internet plenty of articles about Dockerizing existing application. But, what if you don't have installed ruby locally and need to generate new app.</div>
    </div>
  </div>
</div>

<div class="container--1200 astro-6Z5S6UBF">
  <h2 class=" astro-A3XWTMIK">Why Docker?</h2>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        It has always been easier to supply the necessary tools locally. If you need to have multiple versions, then rvm or nvm solve the problem. Then came Docker. Until this year, I had successfully managed to avoid it. On projects where the guys worked with Docker, I instead installed everything locally. But, I thought that enough fighting and it's time to try to live with the idea of "docker for everything". It's simply time to admit either i work using Docker or i don't work at all.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<h2 class=" astro-A3XWTMIK">Generating Ruby on Rails application</h2>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        Well I don't have ruby installed locally. And I need to generate a new Rails application or experiment in IRB.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        The first thing I did was look at the official Rails image. It turned out to be deprecated, and the authors suggested Ruby as a replacement. Using Ruby image, I was unable to generate a Rails application, so I made my own Docker image.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><div class="code-snippet astro-NAWSJDFU">
  
  <pre class="astro-code" style="background-color: #ffffff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"></span>
<span class="line"><span style="color: #1E754F">FROM</span><span style="color: #393A34"> debian:bullseye</span></span>
<span class="line"></span>
<span class="line"><span style="color: #1E754F">WORKDIR</span><span style="color: #393A34"> /app</span></span>
<span class="line"></span>
<span class="line"><span style="color: #1E754F">ARG</span><span style="color: #393A34"> ruby_version=2.7.1</span></span>
<span class="line"><span style="color: #1E754F">ARG</span><span style="color: #393A34"> PG_MAJOR=13</span></span>
<span class="line"><span style="color: #1E754F">ARG</span><span style="color: #393A34"> NODE_MAJOR=14</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A0ADA0"># Installing general packages</span></span>
<span class="line"><span style="color: #1E754F">RUN</span><span style="color: #393A34"> apt update \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; apt upgrade -y \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; apt install libpq-dev postgresql-client-$PG_MAJOR gnupg2 git wget curl vim build-essential libssl-dev zlib1g-dev libyaml-dev libffi-dev -y</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A0ADA0"># Installing rbenv and ruby</span></span>
<span class="line"><span style="color: #1E754F">RUN</span><span style="color: #393A34"> apt install rbenv -y \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; echo </span><span style="color: #B56959">&#39;eval &quot;$(rbenv init -)&quot;&#39;</span><span style="color: #393A34"> &gt;&gt; ~/.bashrc \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; rbenv install $ruby_version \</span></span>
<span class="line"><span style="color: #393A34">    &amp;&amp; rbenv global $ruby_version \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; eval </span><span style="color: #B56959">&quot;$(rbenv init -)&quot;</span><span style="color: #393A34"> \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; gem install rails</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A0ADA0">#Installing node and yarn</span></span>
<span class="line"><span style="color: #1E754F">RUN</span><span style="color: #393A34"> curl -sL https://deb.nodesource.com/setup_$NODE_MAJOR.x | bash - \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; apt install nodejs \</span></span>
<span class="line"><span style="color: #393A34">  &amp;&amp; npm i -g yarn</span></span>
<span class="line"></span>
<span class="line"><span style="color: #1E754F">ENV</span><span style="color: #393A34"> PATH /root/.rbenv/versions/$ruby_version/bin/:/root/.rbenv/shims:$PATH</span></span>
<span class="line"><span style="color: #393A34">      </span></span></code></pre>

</div>

</div>
  <div class="col-2 astro-4KAVAB2E"><ul class="links-list astro-QUFCVKPN">
  <li class="astro-QUFCVKPN">
      <a href="https://hub.docker.com/repository/docker/rukomoynikov/rails/general" class="links-list__link astro-QUFCVKPN">
        Image on Docker Hub
      </a>
    </li>
</ul>

</div>
</div>

<h2 class=" astro-A3XWTMIK">Using the image</h2>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        The following command will generate a new Rails application in the current folder and install required gems in the gems folder. As you know, a container cannot change its content after it has been built. Therefore, all application files and gems will be stored on the host machine.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><div class="code-snippet astro-NAWSJDFU">
  
  <pre class="astro-code" style="background-color: #ffffff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #393a34"></span></span>
<span class="line"><span style="color: #393a34">docker run --rm -v /$(pwd):/app rukomoynikov/rails rails new .</span></span>
<span class="line"><span style="color: #393a34">      </span></span></code></pre>

</div>

</div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        Launching the application is not much more difficult. But, in a simple form, it will only work if you use the sqlite database.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><div class="code-snippet astro-NAWSJDFU">
  
  <pre class="astro-code" style="background-color: #ffffff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #393a34"></span></span>
<span class="line"><span style="color: #393a34">docker run --rm -it -p 3000:3000 -v /$(pwd):/app rukomoynikov/rails rails s -b 0.0.0.0</span></span>
<span class="line"><span style="color: #393a34">      </span></span></code></pre>

</div>

</div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        Running IRB. Or you can enter console and run ruby files from local machine.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><div class="code-snippet astro-NAWSJDFU">
  
  <pre class="astro-code" style="background-color: #ffffff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #393a34"></span></span>
<span class="line"><span style="color: #393a34">        docker run --rm -it -p 3000:3000 -v /$(pwd):/app rukomoynikov/rails bash</span></span>
<span class="line"><span style="color: #393a34">      </span></span></code></pre>

</div>

</div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><picture class="post__picture astro-L4E2UYFH">
	<source type="image/avif" srcset="/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_920x535.avif 920w,/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_1840x1069.avif 1840w" class="astro-L4E2UYFH" sizes="(max-width: 920px) 920w, 1840w"><source type="image/webp" srcset="/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_920x535.webp 920w,/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_1840x1069.webp 1840w" class="astro-L4E2UYFH" sizes="(max-width: 920px) 920w, 1840w"><source type="image/png" srcset="/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_920x535.png 920w,/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_1840x1069.png 1840w" class="astro-L4E2UYFH" sizes="(max-width: 920px) 920w, 1840w">
	<img width="1840" height="1069" src="/_image/assets/images/posts/rails-on-docker/rails-basic-app/rails-basic-app_1840x1069.png" class="astro-L4E2UYFH" loading="lazy" decoding="async">
</picture>

</div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<h2 class=" astro-A3XWTMIK">What's next?</h2>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        Above you saw an example of basic Rails application used SQLite. In order to use Postgresql and Webpacker you need something more complicated than simple Dockerfile. You need docker-compose. There you will be able to separate application into a ruby service, and the client service.
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><p class="paragraph astro-IOL3HG2G">
  
        Here is example of docker-compose.yml
      
</p>




<!-- <style type="text/css">
  .article-layout {
    display: flex;
  }
  @media only screen and (max-width: 595px) {
    .article-layout {
      flex-direction: column;
    }
  }
  .article-layout__text {
    display: flex;
    margin-right: 42px;
  }
  .article-layout__quotes {
    display: flex;
    font-size: 15px;
  }
</style> --></div>
  <div class="col-2 astro-4KAVAB2E"></div>
</div>

<div class="columns standard astro-4KAVAB2E">
  <div class="col-1 astro-4KAVAB2E"><div class="code-snippet astro-NAWSJDFU">
  
  <pre class="astro-code" style="background-color: #ffffff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"></span>
<span class="line"><span style="color: #998418">services</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">web</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">image</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">rukomoynikov/rails:2.7.1</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">volumes</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">./:/app</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">rails_cache:/app/tmp/cache</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">bundle:/usr/local/bundle</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">ports</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">3000:3000</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">tmpfs</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">/tmp</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">/app/tmp/pids</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">depends_on</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">postgres</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #998418">condition</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">service_healthy</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">redis</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #998418">condition</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">service_healthy</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">command</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">bundle exec rails server -b 0.0.0.0</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">client</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">image</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">rukomoynikov/rails:2.7.1</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">command</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">yarn run build -w</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">ports</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">3035:3035</span><span style="color: #B56959AA">&#39;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">volumes</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">./:/app:cached</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">bundle:/usr/local/bundle</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">node_modules:/app/node_modules</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">packs:/app/public/packs</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">environment</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">WEBPACKER_DEV_SERVER_HOST</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">0.0.0.0</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">postgres</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">image</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">postgres:13</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">volumes</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">postgres:/var/lib/postgresql/data</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">environment</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">PSQL_HISTFILE</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">/root/log/.psql_history</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">POSTGRES_PASSWORD</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">postgres</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">ports</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #2F798A">5432</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">healthcheck</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">test</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">pg_isready -U postgres -h 127.0.0.1</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">interval</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">5s</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">redis</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">image</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">redis:3.2-alpine</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">volumes</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #B56959">redis:/data</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">ports</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">-</span><span style="color: #393A34"> </span><span style="color: #2F798A">6379</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">healthcheck</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">test</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">redis-cli ping</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">interval</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">1s</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">timeout</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959">3s</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">retries</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">30</span></span>
<span class="line"></span>
<span class="line"><span style="color: #998418">volumes</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">postgres</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">redis</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">bundle</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">rails_cache</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">node_modules</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #998418">packs</span><span style="color: #999999">:</span></span>
<span class="line"><span style="color: #393A34">      </span></span></code></pre>

</div>

</div>
  <div class="col-2 astro-4KAVAB2E"><ul class="links-list astro-QUFCVKPN">
  <li class="astro-QUFCVKPN">
      <a href="https://evilmartians.com/chronicles/ruby-on-whales-docker-for-ruby-rails-development" class="links-list__link astro-QUFCVKPN">
        Heavily inspired by Evil Martians article
      </a>
    </li>
</ul>

</div>
</div>


</div>


    </div>
  
</body></html>