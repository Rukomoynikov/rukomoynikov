<!doctype html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8" />

		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="../../favicon/apple-touch-icon.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="../../favicon/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="../../favicon/favicon-16x16.png"
		/>
		<link rel="manifest" href="../../favicon/site.webmanifest" />

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.C2VXwjEf.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/TwoColsContainer.Cfns4Auz.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Title.fyUrrwqI.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Paragraph.aDFaLfzd.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/LinksList.6PqA1Dza.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/CodeBlock.CobIdgon.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Image.tn0RQdqM.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.BxLQ9Smn.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/entry.BmEe-kyU.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/runtime.KMv9Mpc9.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.Cb3dpmCF.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/disclose-version.CUJr2fC1.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.Dsg6W2EP.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/render.C3GYcp2G.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/props.DpqqZa3c.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.BidLmn2V.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/TwoColsContainer.DhZyNmFy.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/store.HaTCsDSK.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.CEX-fa9M.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/7.Ce05VJEe.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Title.Rt6Roc2-.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/lifecycle.uhu3C_P9.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Paragraph.CJbIHcfA.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/LinksList.Bw3jPvWm.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CodeBlock.B_J0zToe.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Image.CnxLGc82.js"><!--[--><meta name="description" content="Setup docker for Rails and use it for running Rails application."> <link rel="canonical" href="/posts/rails-on-docker/"> <meta name="keywords" content="rails, ruby, typescript, react, elixir, rust"> <meta name="twitter:image" content="https://rukomoynikov.ru/_app/immutable/assets/rails-on-docker-facebook-share.6WUk-eU9.jpg?h=630&amp;w=1200"> <meta name="robots" content="index,follow"> <meta name="googlebot" content="index,follow"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@MRukomoynikov"> <meta name="twitter:description" content="Setup docker for Rails and use it for running Rails application."> <meta name="twitter:image" content="https://rukomoynikov.ru/_app/immutable/assets/rails-on-docker-facebook-share.6WUk-eU9.jpg?h=630&amp;w=1200"> <meta property="og:title" content="Rails on Docker | Max Rukomoynikov"> <meta property="og:description" content="Setup docker for Rails and use it for running Rails application."> <meta property="og:image:url" content="https://rukomoynikov.ru/_app/immutable/assets/rails-on-docker-facebook-share.6WUk-eU9.jpg?h=630&amp;w=1200"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="630"> <meta property="og:image:alt" content="Rails on Docker | Max Rukomoynikov"> <meta property="og:url" content="/posts/rails-on-docker/"> <meta property="og:type" content="website"> <meta property="og:site_name" content="Rails on Docker | Max Rukomoynikov"><!--]--><title>Rails on Docker | Max Rukomoynikov</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><div class="container--1200 svelte-1i3ol08"><!----><div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><h1 class="svelte-10peqeb"><a href="/" class="svelte-10peqeb">Max Rukomoynikov</a></h1> <div>I love to create. Developer and designer. Looking forward to make cool things.</div><!----></div> <!--[!--><!--]--></div><!----></div><!----> <!----><div class="container--1200 svelte-1i3ol08"><!----><!----><h1  class="null svelte-hffrw8"><!----><!---->Rails on Docker<!----><!----></h1><!----><!----> <!----><h2  class="null svelte-hffrw8"><!----><!---->Why Docker?<!----><!----></h2><!----><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->It has always been easier to supply the necessary tools locally. If you need to have multiple
			versions, then rvm or nvm solve the problem. Then came Docker. Until this year, I had
			successfully managed to avoid it. On projects where the guys worked with Docker, I instead
			installed everything locally. But, I thought that enough fighting and it's time to try to live
			with the idea of "docker for everything". It's simply time to admit either i work using Docker
			or i don't work at all.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <!----><h2  class="null svelte-hffrw8"><!----><!---->Generating Ruby on Rails application<!----><!----></h2><!----><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->Well I don't have ruby installed locally. And I need to generate a new Rails application or
			experiment in IRB.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->The first thing I did was look at the official Rails image. It turned out to be deprecated,
			and the authors suggested Ruby as a replacement.Using Ruby image, I was unable to generate a
			Rails application, so Imade my own Docker image.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><!--[--><div class="codeBlock svelte-1cmzv5q "><button class="copyButton svelte-1cmzv5q ">Copy</button> <!--[!--><!--]--> <!----><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">FROM</span><span style="color: #D4D4D4"> debian:bullseye</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">WORKDIR</span><span style="color: #D4D4D4"> /app</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">ARG</span><span style="color: #D4D4D4"> ruby_version=2.7.1</span></span>
<span class="line"><span style="color: #569CD6">ARG</span><span style="color: #D4D4D4"> PG_MAJOR=13</span></span>
<span class="line"><span style="color: #569CD6">ARG</span><span style="color: #D4D4D4"> NODE_MAJOR=14</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Installing general packages</span></span>
<span class="line"><span style="color: #569CD6">RUN</span><span style="color: #D4D4D4"> apt update \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; apt upgrade -y \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; apt install libpq-dev postgresql-client-$PG_MAJOR gnupg2 git wget curl vim build-essential libssl-dev zlib1g-dev libyaml-dev libffi-dev -y</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Installing rbenv and ruby</span></span>
<span class="line"><span style="color: #569CD6">RUN</span><span style="color: #D4D4D4"> apt install rbenv -y \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; echo </span><span style="color: #CE9178">&#39;eval &quot;$(rbenv init -)&quot;&#39;</span><span style="color: #D4D4D4"> &gt;&gt; ~/.bashrc \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; rbenv install $ruby_version \</span></span>
<span class="line"><span style="color: #D4D4D4">    &amp;&amp; rbenv global $ruby_version \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; eval </span><span style="color: #CE9178">&quot;$(rbenv init -)&quot;</span><span style="color: #D4D4D4"> \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; gem install rails</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">#Installing node and yarn</span></span>
<span class="line"><span style="color: #569CD6">RUN</span><span style="color: #D4D4D4"> curl -sL https://deb.nodesource.com/setup_$NODE_MAJOR.x | bash - \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; apt install nodejs \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; npm i -g yarn</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">ENV</span><span style="color: #D4D4D4"> PATH /root/.rbenv/versions/$ruby_version/bin/:/root/.rbenv/shims:$PATH</span></span>
<span class="line"></span></code></pre><!----></div><!--]--><!----></div> <!--[--><div class="col-2 svelte-1usoguu"><!----><div slot="aside"><ul class="links-list svelte-5n4j8k"><!--[--><li class="svelte-5n4j8k"><a href="https://hub.docker.com/repository/docker/rukomoynikov/rails/general" class="links-list__link svelte-5n4j8k">Image on Docker Hub</a></li><!--]--></ul><!----></div><!----></div><!--]--></div><!----> <!----><h2  class="null svelte-hffrw8"><!----><!---->Using the image<!----><!----></h2><!----><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->The following command will generate a new Rails application in the current folder and install
			required gems in the gems folder. As you know, a container cannot change its content after it
			has been built.Therefore, all application files and gems will be stored on the host machine.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><!--[--><div class="codeBlock svelte-1cmzv5q "><button class="copyButton svelte-1cmzv5q ">Copy</button> <!--[!--><!--]--> <!----><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">docker</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-v</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/$(</span><span style="color: #DCDCAA">pwd</span><span style="color: #CE9178">):/app</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rukomoynikov/rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">new</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span></span></code></pre><!----></div><!--]--><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->Launching the application is not much more difficult. But, in a simple form, it will only work
			if you use the sqlite database.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><!--[--><div class="codeBlock svelte-1cmzv5q "><button class="copyButton svelte-1cmzv5q ">Copy</button> <!--[!--><!--]--> <!----><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">docker</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-it</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">3000</span><span style="color: #CE9178">:3000</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-v</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/$(</span><span style="color: #DCDCAA">pwd</span><span style="color: #CE9178">):/app</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rukomoynikov/rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">s</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-b</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0.0</span><span style="color: #CE9178">.0.0</span></span></code></pre><!----></div><!--]--><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->Running IRB. Or you can enter console and run ruby files from local machine.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><!--[--><div class="codeBlock svelte-1cmzv5q "><button class="copyButton svelte-1cmzv5q ">Copy</button> <!--[!--><!--]--> <!----><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">docker</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-it</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">3000</span><span style="color: #CE9178">:3000</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-v</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/$(</span><span style="color: #DCDCAA">pwd</span><span style="color: #CE9178">):/app</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rukomoynikov/rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">bash</span></span></code></pre><!----></div><!--]--><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><div class="image"><!--[--><enhanced:img src="/_app/immutable/assets/rails-basic-app@2x.DC0Q7ukl.webp?enhanced" alt="Rails default page"></enhanced:img><!--]--></div><!----></div> <!--[!--><!--]--></div><!----> <!----><h2  class="null svelte-hffrw8"><!----><!---->What's next?<!----><!----></h2><!----><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->Above you saw an example of basic Rails application used SQLite. In order to use Postgresql
			and Webpacker you need something more complicated than simple Dockerfile. You need
			docker-compose. There you will be able to separate application into a ruby service, and the
			client service.<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><p class="paragraph svelte-5wsfqn"><!----><!---->Here is example of docker-compose.yml<!----></p><!----></div> <!--[!--><!--]--></div><!----> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><!----><!--[--><div class="codeBlock svelte-1cmzv5q "><button class="copyButton svelte-1cmzv5q ">Copy</button> <!--[!--><!--]--> <!----><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">services</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">web</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">rukomoynikov/rails:2.7.1</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">./:/app</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">rails_cache:/app/tmp/cache</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">bundle:/usr/local/bundle</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">3000:3000</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">tmpfs</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">/tmp</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">/app/tmp/pids</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">depends_on</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">postgres</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">condition</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">service_healthy</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">redis</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">condition</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">service_healthy</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">command</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">bundle exec rails server -b 0.0.0.0</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">client</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">rukomoynikov/rails:2.7.1</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">command</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">yarn run build -w</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">&#39;3035:3035&#39;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">./:/app:cached</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">bundle:/usr/local/bundle</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">node_modules:/app/node_modules</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">packs:/app/public/packs</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">environment</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">WEBPACKER_DEV_SERVER_HOST</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">0.0.0.0</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">postgres</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">postgres:13</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">postgres:/var/lib/postgresql/data</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">environment</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">PSQL_HISTFILE</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">/root/log/.psql_history</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">POSTGRES_PASSWORD</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">postgres</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #B5CEA8">5432</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">healthcheck</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">test</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">pg_isready -U postgres -h 127.0.0.1</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">interval</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">5s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">redis</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">redis:3.2-alpine</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">redis:/data</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #B5CEA8">6379</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">healthcheck</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">test</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">redis-cli ping</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">interval</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">1s</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">timeout</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">3s</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">retries</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">30</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">postgres</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">redis</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">bundle</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">rails_cache</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">node_modules</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">packs</span><span style="color: #D4D4D4">:</span></span>
<span class="line"></span></code></pre><!----></div><!--]--><!----></div> <!--[--><div class="col-2 svelte-1usoguu"><!----><div slot="aside"><ul class="links-list svelte-5n4j8k"><!--[--><li class="svelte-5n4j8k"><a href="https://evilmartians.com/chronicles/ruby-on-whales-docker-for-ruby-rails-development" class="links-list__link svelte-5n4j8k">Heavily inspired by Evil Martians article</a></li><!--]--></ul><!----></div><!----></div><!--]--></div><!----><!----></div><!----><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_ol5v6i = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../../_app/immutable/entry/start.BxLQ9Smn.js"),
						import("../../_app/immutable/entry/app.Cb3dpmCF.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 7],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
