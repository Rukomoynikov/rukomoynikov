<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.f4F2na6V.css" rel="stylesheet">
		<link href="../_app/immutable/assets/TwoColsContainer.PLmD10H8.css" rel="stylesheet">
		<link href="../_app/immutable/assets/6.JiEdi6mQ.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Title.UVSzJjBk.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Paragraph.5TISkVa8.css" rel="stylesheet">
		<link href="../_app/immutable/assets/CodeBlock.RVFEQaE9.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.udf3fNGr.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.PwXR70NT.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.70Xoy3gp.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.pdwQACt6.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.oVAL4969.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.cH_UWx0L.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/TwoColsContainer.zK2pGUXM.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.ShlccW4U.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/facebook_cover_1200x630.fZqT12OZ.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/6.g8h7p7gA.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Title.ukarDjlK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Paragraph.2SrNVUI6.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CodeBlock.2od_E5Cz.js"><title>Rails on Docker | Max Rukomoynikov</title><!-- HEAD_svelte-118r9b8_START --><meta name="description" content="Setup docker for Rails and use it for running Rails application."><link rel="canonical" href="/posts/rails-on-docker"><meta name="keywords" content="rails, ruby, typescript, react, elixir, rust"><meta name="twitter:image" content="https://rukomoynikov.ru/_app/immutable/assets/rails-on-docker-facebook-share.vnFSWWcL.jpeg"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@MRukomoynikov"><meta name="twitter:description" content="Setup docker for Rails and use it for running Rails application."><meta name="twitter:image" content="https://rukomoynikov.ru/_app/immutable/assets/rails-on-docker-facebook-share.vnFSWWcL.jpeg"><meta property="og:title" content="Rails on Docker | Max Rukomoynikov"><meta property="og:description" content="Setup docker for Rails and use it for running Rails application."><meta property="og:image:url" content="https://rukomoynikov.ru/_app/immutable/assets/rails-on-docker-facebook-share.vnFSWWcL.jpeg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image:alt" content="Rails on Docker | Max Rukomoynikov"><meta property="og:url" content="/posts/rails-on-docker"><meta property="og:type" content="website"><meta property="og:site_name" content="Rails on Docker | Max Rukomoynikov"><!-- HEAD_svelte-118r9b8_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">   <div class="container--1200 svelte-l9xhul"><div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><h1 class="svelte-6qsvt1" data-svelte-h="svelte-1qy9wyc"><a href="/">Max Rukomoynikov</a></h1> <div data-svelte-h="svelte-1imkv5r">I love to create. Developer and designer. Looking forward to make cool things.</div></div>  </div> </div> <div class="container--1200 svelte-l9xhul"><h1 class=" svelte-1lrv44l">Rails on Docker </h1> <h2 class=" svelte-1lrv44l">Why Docker? </h2> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">It has always been easier to supply the necessary tools locally. If you need to have multiple
			versions, then rvm or nvm solve the problem. Then came Docker. Until this year, I had
			successfully managed to avoid it. On projects where the guys worked with Docker, I instead
			installed everything locally. But, I thought that enough fighting and it&#39;s time to try to live
			with the idea of &quot;docker for everything&quot;. It&#39;s simply time to admit either i work using Docker
			or i don&#39;t work at all. </p></div>  </div> <h2 class=" svelte-1lrv44l">Generating Ruby on Rails application </h2> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">Well I don&#39;t have ruby installed locally. And I need to generate a new Rails application or
			experiment in IRB. </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">The first thing I did was look at the official Rails image. It turned out to be deprecated,
			and the authors suggested Ruby as a replacement.Using Ruby image, I was unable to generate a
			Rails application, so Imade my own Docker image. </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><div class="codeBlock svelte-1may0mh">  <!-- HTML_TAG_START --><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">FROM</span><span style="color: #D4D4D4"> debian:bullseye</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">WORKDIR</span><span style="color: #D4D4D4"> /app</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">ARG</span><span style="color: #D4D4D4"> ruby_version=2.7.1</span></span>
<span class="line"><span style="color: #569CD6">ARG</span><span style="color: #D4D4D4"> PG_MAJOR=13</span></span>
<span class="line"><span style="color: #569CD6">ARG</span><span style="color: #D4D4D4"> NODE_MAJOR=14</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Installing general packages</span></span>
<span class="line"><span style="color: #569CD6">RUN</span><span style="color: #D4D4D4"> apt update \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; apt upgrade -y \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; apt install libpq-dev postgresql-client-$PG_MAJOR gnupg2 git wget curl vim build-essential libssl-dev zlib1g-dev libyaml-dev libffi-dev -y</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Installing rbenv and ruby</span></span>
<span class="line"><span style="color: #569CD6">RUN</span><span style="color: #D4D4D4"> apt install rbenv -y \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; echo </span><span style="color: #CE9178">&#39;eval &quot;$(rbenv init -)&quot;&#39;</span><span style="color: #D4D4D4"> &gt;&gt; ~/.bashrc \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; rbenv install $ruby_version \</span></span>
<span class="line"><span style="color: #D4D4D4">    &amp;&amp; rbenv global $ruby_version \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; eval </span><span style="color: #CE9178">&quot;$(rbenv init -)&quot;</span><span style="color: #D4D4D4"> \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; gem install rails</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">#Installing node and yarn</span></span>
<span class="line"><span style="color: #569CD6">RUN</span><span style="color: #D4D4D4"> curl -sL https://deb.nodesource.com/setup_$NODE_MAJOR.x | bash - \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; apt install nodejs \</span></span>
<span class="line"><span style="color: #D4D4D4">  &amp;&amp; npm i -g yarn</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">ENV</span><span style="color: #D4D4D4"> PATH /root/.rbenv/versions/$ruby_version/bin/:/root/.rbenv/shims:$PATH</span></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --></div> </div> <div class="col-2 svelte-1usoguu"><div slot="aside"><ul class="links-list svelte-1fs0p6z"><li class="svelte-1fs0p6z"><a href="https://hub.docker.com/repository/docker/rukomoynikov/rails/general" class="links-list__link svelte-1fs0p6z">Image on Docker Hub</a> </li> </ul></div></div> </div> <h2 class=" svelte-1lrv44l">Using the image </h2> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">The following command will generate a new Rails application in the current folder and install
			required gems in the gems folder. As you know, a container cannot change its content after it
			has been built.Therefore, all application files and gems will be stored on the host machine. </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><div class="codeBlock svelte-1may0mh">  <!-- HTML_TAG_START --><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">docker</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-v</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/$(</span><span style="color: #DCDCAA">pwd</span><span style="color: #CE9178">):/app</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rukomoynikov/rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">new</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span></span></code></pre><!-- HTML_TAG_END --></div> </div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">Launching the application is not much more difficult. But, in a simple form, it will only work
			if you use the sqlite database. </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><div class="codeBlock svelte-1may0mh">  <!-- HTML_TAG_START --><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">docker</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-it</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">3000</span><span style="color: #CE9178">:3000</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-v</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/$(</span><span style="color: #DCDCAA">pwd</span><span style="color: #CE9178">):/app</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rukomoynikov/rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">s</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-b</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0.0</span><span style="color: #CE9178">.0.0</span></span></code></pre><!-- HTML_TAG_END --></div> </div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">Running IRB. Or you can enter console and run ruby files from local machine. </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><div class="codeBlock svelte-1may0mh">  <!-- HTML_TAG_START --><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">docker</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-it</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">3000</span><span style="color: #CE9178">:3000</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-v</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/$(</span><span style="color: #DCDCAA">pwd</span><span style="color: #CE9178">):/app</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rukomoynikov/rails</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">bash</span></span></code></pre><!-- HTML_TAG_END --></div> </div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><div class="image svelte-1oboczr"><picture><source srcset="/_app/immutable/assets/rails-basic-app@2x.0_bDmNA2.avif 1x, /_app/immutable/assets/rails-basic-app@2x.J-K3UybS.avif 2x" type="image/avif"><source srcset="/_app/immutable/assets/rails-basic-app@2x.JxzDUKq8.webp 1x, /_app/immutable/assets/rails-basic-app@2x.qNFJyuCr.webp 2x" type="image/webp"><source srcset="/_app/immutable/assets/rails-basic-app@2x.wG70rTGR.png 1x, /_app/immutable/assets/rails-basic-app@2x.oSSac6uZ.png 2x" type="image/png"> <img src="/_app/immutable/assets/rails-basic-app@2x.oSSac6uZ.png" alt="Rails default page" width="3104" height="1804" class="svelte-1oboczr"></picture> </div></div>  </div> <h2 class=" svelte-1lrv44l">What&#39;s next? </h2> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">Above you saw an example of basic Rails application used SQLite. In order to use Postgresql
			and Webpacker you need something more complicated than simple Dockerfile. You need
			docker-compose. There you will be able to separate application into a ruby service, and the
			client service. </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><p class="paragraph svelte-5wsfqn">Here is example of docker-compose.yml </p></div>  </div> <div class="columns standard svelte-1usoguu"><div class="col-1 svelte-1usoguu"><div class="codeBlock svelte-1may0mh">  <!-- HTML_TAG_START --><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">services</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">web</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">rukomoynikov/rails:2.7.1</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">./:/app</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">rails_cache:/app/tmp/cache</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">bundle:/usr/local/bundle</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">3000:3000</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">tmpfs</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">/tmp</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">/app/tmp/pids</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">depends_on</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">postgres</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">condition</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">service_healthy</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">redis</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">condition</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">service_healthy</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">command</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">bundle exec rails server -b 0.0.0.0</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">client</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">rukomoynikov/rails:2.7.1</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">command</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">yarn run build -w</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">&#39;3035:3035&#39;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">./:/app:cached</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">bundle:/usr/local/bundle</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">node_modules:/app/node_modules</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">packs:/app/public/packs</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">environment</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">WEBPACKER_DEV_SERVER_HOST</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">0.0.0.0</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">postgres</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">postgres:13</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">postgres:/var/lib/postgresql/data</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">environment</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">PSQL_HISTFILE</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">/root/log/.psql_history</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">POSTGRES_PASSWORD</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">postgres</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #B5CEA8">5432</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">healthcheck</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">test</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">pg_isready -U postgres -h 127.0.0.1</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">interval</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">5s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">redis</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">image</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">redis:3.2-alpine</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #CE9178">redis:/data</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">ports</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      - </span><span style="color: #B5CEA8">6379</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">healthcheck</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">test</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">redis-cli ping</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">interval</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">1s</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">timeout</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">3s</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">retries</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">30</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">volumes</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">postgres</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">redis</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">bundle</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">rails_cache</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">node_modules</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">packs</span><span style="color: #D4D4D4">:</span></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --></div> </div> <div class="col-2 svelte-1usoguu"><div slot="aside"><ul class="links-list svelte-1fs0p6z"><li class="svelte-1fs0p6z"><a href="https://evilmartians.com/chronicles/ruby-on-whales-docker-for-ruby-rails-development" class="links-list__link svelte-1fs0p6z">Heavily inspired by Evil Martians article</a> </li> </ul></div></div> </div> </div> 
			
			<script>
				{
					__sveltekit_olty2n = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: null
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":{codes:{"posts/elixir-telegran-bot/application.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defmodule\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #4EC9B0\">StocksBot\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #4EC9B0\">Application\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">use\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Application\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@impl\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">def\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">start\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(\u003C/span>\u003Cspan style=\"color: #6A9955\">_type\u003C/span>\u003Cspan style=\"color: #D4D4D4\">, \u003C/span>\u003Cspan style=\"color: #6A9955\">_args\u003C/span>\u003Cspan style=\"color: #D4D4D4\">) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    children = [ \u003C/span>\u003Cspan style=\"color: #4EC9B0\">StocksBot\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    opts = [strategy: :one_for_one, name: \u003C/span>\u003Cspan style=\"color: #4EC9B0\">StocksBot\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #4EC9B0\">Supervisor\u003C/span>\u003Cspan style=\"color: #D4D4D4\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Supervisor\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">start_link\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(children, opts)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"defmodule StocksBot.Application do\n  use Application\n\n  @impl true\n  def start(_type, _args) do\n    children = [ StocksBot ]\n\n    opts = [strategy: :one_for_one, name: StocksBot.Supervisor]\n    Supervisor.start_link(children, opts)\n  end\nend"},"posts/elixir-telegran-bot/deps.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">deps\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    {:httpoison, \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;~&gt; 1.8&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    {:jason, \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;~&gt; 1.2&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"defp deps do\n  [\n    {:httpoison, \"~> 1.8\"},\n    {:jason, \"~> 1.2\"}\n  ]\nend"},"posts/elixir-telegran-bot/messages_log.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">[\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;message&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;chat&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;first_name&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Bender&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;id&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #B5CEA8\">300011235\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;last_name&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Rodriguez&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;type&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;private&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;username&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;bender&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;date&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #B5CEA8\">1636549063\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;from&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;first_name&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Bender&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;id&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #B5CEA8\">300011235\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;is_bot&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #569CD6\">false\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;language_code&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;ru&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;last_name&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Rodriguez&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;username&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;bender&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;message_id&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #B5CEA8\">1142\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;text&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Hello&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;update_id&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; \u003C/span>\u003Cspan style=\"color: #B5CEA8\">475896056\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"[\n  %{\n    \"message\" => %{\n      \"chat\" => %{\n        \"first_name\" => \"Bender\",\n        \"id\" => 300011235,\n        \"last_name\" => \"Rodriguez\",\n        \"type\" => \"private\",\n        \"username\" => \"bender\"\n      },\n      \"date\" => 1636549063,\n      \"from\" => %{\n        \"first_name\" => \"Bender\",\n        \"id\" => 300011235,,\n        \"is_bot\" => false,\n        \"language_code\" => \"ru\",\n        \"last_name\" => \"Rodriguez\",\n        \"username\" => \"bender\"\n      },\n      \"message_id\" => 1142,\n      \"text\" => \"Hello\"\n    },\n    \"update_id\" => 475896056\n  }\n]"},"posts/elixir-telegran-bot/new_elixir_app.sh":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">mix\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">new\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">stocks_bot\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">--sup\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"mix new stocks_bot --sup"},"posts/elixir-telegran-bot/stocks_bot.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defmodule\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #4EC9B0\">StocksBot\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">use\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #4EC9B0\">GenServer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;https://api.telegram.org/bot&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Token from BotFather&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">def\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">start_link\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(args) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #4EC9B0\">GenServer\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">start_link\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(\u003C/span>\u003Cspan style=\"color: #569CD6\">__MODULE__\u003C/span>\u003Cspan style=\"color: #D4D4D4\">, :ok, name: \u003C/span>\u003Cspan style=\"color: #569CD6\">__MODULE__\u003C/span>\u003Cspan style=\"color: #D4D4D4\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@impl\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">def\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">init\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(:ok) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_updates\u003C/span>\u003Cspan style=\"color: #D4D4D4\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    {:ok, %{}}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"defmodule StocksBot do\n  use GenServer\n  @basic_url \"https://api.telegram.org/bot\" \u003C> \"Token from BotFather\"\n\n  def start_link(args) do\n    GenServer.start_link(__MODULE__, :ok, name: __MODULE__)\n  end\n\n  @impl true\n  def init(:ok) do\n    get_updates()\n    {:ok, %{}}\n  end\nend"},"posts/elixir-telegran-bot/stocks_bot_2.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">parse_messages\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(messages) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Enum\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">each\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(messages, \u003C/span>\u003Cspan style=\"color: #C586C0\">fn\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> message -&gt;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #DCDCAA\">answer_to_message\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(message)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003Cspan style=\"color: #D4D4D4\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  messages\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">answer_to_message\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(message) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;message&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;chat&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; %{\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;id&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; chat_id},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;text&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> =&gt; original_text\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  } = message\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  answer = %{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    text: \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Hello: \u003C/span>\u003Cspan style=\"color: #569CD6\">#{\u003C/span>\u003Cspan style=\"color: #D4D4D4\">original_text\u003C/span>\u003Cspan style=\"color: #569CD6\">}\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    chat_id: chat_id\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #4EC9B0\">HTTPoison\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">post\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;/sendMessage&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Jason\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">encode!\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(answer),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    [{\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Content-Type&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">, \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;application/json&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">}]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"defp parse_messages(messages) do\n  Enum.each(messages, fn message ->\n    answer_to_message(message)\n  end)\n\n  messages\nend\n\ndefp answer_to_message(message) do\n  %{\n    \"message\" => %{\n      \"chat\" => %{\"id\" => chat_id},\n      \"text\" => original_text\n    }\n  } = message\n\n  answer = %{\n    text: \"Hello: #{original_text}\",\n    chat_id: chat_id\n  }\n\n  HTTPoison.post(\n    @basic_url \u003C> \"/sendMessage\",\n    Jason.encode!(answer),\n    [{\"Content-Type\", \"application/json\"}]\n  )\nend"},"posts/elixir-telegran-bot/stocks_bot_3.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defmodule\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #4EC9B0\">StocksBot\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;https://api.telegram.org/bot&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Token from BotFather&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">def\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_updates\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(offset \\\\ \u003C/span>\u003Cspan style=\"color: #569CD6\">nil\u003C/span>\u003Cspan style=\"color: #D4D4D4\">) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #C586C0\">with\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> {:ok, %\u003C/span>\u003Cspan style=\"color: #4EC9B0\">HTTPoison\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #4EC9B0\">Response\u003C/span>\u003Cspan style=\"color: #D4D4D4\">{status_code: \u003C/span>\u003Cspan style=\"color: #B5CEA8\">200\u003C/span>\u003Cspan style=\"color: #D4D4D4\">, body: body}} =\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">           \u003C/span>\u003Cspan style=\"color: #DCDCAA\">updates_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(offset) |&gt; \u003C/span>\u003Cspan style=\"color: #4EC9B0\">HTTPoison\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">get\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">         {:ok, data} = \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Jason\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">decode\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(body) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #DCDCAA\">parse_messages\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(data[\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;result&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      |&gt; \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_last_update_id\u003C/span>\u003Cspan style=\"color: #D4D4D4\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      |&gt; \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_updates\u003C/span>\u003Cspan style=\"color: #D4D4D4\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">parse_messages\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(messages) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Enum\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">each\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(messages, \u003C/span>\u003Cspan style=\"color: #C586C0\">fn\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> message -&gt;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #4EC9B0\">IO\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">inspect\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(message)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003Cspan style=\"color: #D4D4D4\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    messages\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_last_update_id\u003C/span>\u003Cspan style=\"color: #D4D4D4\">([]), do: \u003C/span>\u003Cspan style=\"color: #569CD6\">nil\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_last_update_id\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(messages) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #4EC9B0\">List\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">last\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(messages) |&gt; \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Map\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">fetch!\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;update_id&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">updates_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(\u003C/span>\u003Cspan style=\"color: #6A9955\">_offset\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> = \u003C/span>\u003Cspan style=\"color: #569CD6\">nil\u003C/span>\u003Cspan style=\"color: #D4D4D4\">) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;/getUpdates&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">updates_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(offset) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;/getUpdates?offset=\u003C/span>\u003Cspan style=\"color: #569CD6\">#{\u003C/span>\u003Cspan style=\"color: #D4D4D4\">offset + \u003C/span>\u003Cspan style=\"color: #B5CEA8\">1\u003C/span>\u003Cspan style=\"color: #569CD6\">}\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"defmodule StocksBot do\n  @basic_url \"https://api.telegram.org/bot\" \u003C> \"Token from BotFather\"\n\n  def get_updates(offset \\\\ nil) do\n    with {:ok, %HTTPoison.Response{status_code: 200, body: body}} =\n           updates_url(offset) |> HTTPoison.get(),\n         {:ok, data} = Jason.decode(body) do\n\n      parse_messages(data[\"result\"])\n      |> get_last_update_id()\n      |> get_updates()\n    end\n  end\n\n  defp parse_messages(messages) do\n    Enum.each(messages, fn message ->\n      IO.inspect(message)\n    end)\n\n    messages\n  end\n\n  defp get_last_update_id([]), do: nil\n\n  defp get_last_update_id(messages) do\n    List.last(messages) |> Map.fetch!(\"update_id\")\n  end\n\n  defp updates_url(_offset = nil) do\n    @basic_url \u003C> \"/getUpdates\"\n  end\n\n  defp updates_url(offset) do\n    @basic_url \u003C> \"/getUpdates?offset=#{offset + 1}\"\n  end\nend"},"posts/elixir-telegran-bot/stocks_bot_initial.elixir":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">defmodule\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #4EC9B0\">StocksBot\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;https://api.telegram.org/bot&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;Token from BotFather&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">def\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">get_updates\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(offset \\\\ \u003C/span>\u003Cspan style=\"color: #569CD6\">nil\u003C/span>\u003Cspan style=\"color: #D4D4D4\">) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #C586C0\">with\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> {:ok, %\u003C/span>\u003Cspan style=\"color: #4EC9B0\">HTTPoison\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #4EC9B0\">Response\u003C/span>\u003Cspan style=\"color: #D4D4D4\">{status_code: \u003C/span>\u003Cspan style=\"color: #B5CEA8\">200\u003C/span>\u003Cspan style=\"color: #D4D4D4\">, body: body}} =\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">           \u003C/span>\u003Cspan style=\"color: #DCDCAA\">updates_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(offset) |&gt; \u003C/span>\u003Cspan style=\"color: #4EC9B0\">HTTPoison\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">get\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">         {:ok, data} = \u003C/span>\u003Cspan style=\"color: #4EC9B0\">Jason\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">decode\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(body) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #4EC9B0\">IO\u003C/span>\u003Cspan style=\"color: #D4D4D4\">.\u003C/span>\u003Cspan style=\"color: #DCDCAA\">inspect\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(data[\u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;result&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\">])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">defp\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #DCDCAA\">updates_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\">(\u003C/span>\u003Cspan style=\"color: #6A9955\">_offset\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> = \u003C/span>\u003Cspan style=\"color: #569CD6\">nil\u003C/span>\u003Cspan style=\"color: #D4D4D4\">) \u003C/span>\u003Cspan style=\"color: #C586C0\">do\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #9CDCFE\">@basic_url\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &lt;&gt; \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;/getUpdates&quot;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #C586C0\">end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"defmodule StocksBot do\n  @basic_url \"https://api.telegram.org/bot\" \u003C> \"Token from BotFather\"\n\n  def get_updates(offset \\\\ nil) do\n    with {:ok, %HTTPoison.Response{status_code: 200, body: body}} =\n           updates_url(offset) |> HTTPoison.get(),\n         {:ok, data} = Jason.decode(body) do\n      IO.inspect(data[\"result\"])\n    end\n  end\n\n  defp updates_url(_offset = nil) do\n    @basic_url \u003C> \"/getUpdates\"\n  end\nend"},"posts/elixir-telegran-bot/structure.sh":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">├──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">README.md\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">├──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">lib\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">│\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">├──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">stocks_bot\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">│\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">│\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">└──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">application.ex\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">│\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">└──stocks_bot.ex\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">├──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">mix.exs\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">└──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">test\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">├──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">stocks_bot_test.exs\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">└──\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">test_helper.exs\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"├── README.md\n├── lib\n│ ├── stocks_bot\n│ │ └── application.ex\n│ └──stocks_bot.ex\n├── mix.exs\n└── test\n├── stocks_bot_test.exs\n└── test_helper.exs"},"posts/elixir-telegran-bot/test_bot.sh":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">iex\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-S\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">mix\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">StocksBot.get_updates\u003C/span>\u003Cspan style=\"color: #D4D4D4\">()\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"iex -S mix\nStocksBot.get_updates()"},"posts/rails-on-docker/docker-compose.yml":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">services\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">web\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">image\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">rukomoynikov/rails:2.7.1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">volumes\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">./:/app\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">rails_cache:/app/tmp/cache\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">bundle:/usr/local/bundle\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">ports\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">3000:3000\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">tmpfs\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">/tmp\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">/app/tmp/pids\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">depends_on\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">postgres\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #569CD6\">condition\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">service_healthy\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">redis\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">        \u003C/span>\u003Cspan style=\"color: #569CD6\">condition\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">service_healthy\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">command\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">bundle exec rails server -b 0.0.0.0\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">client\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">image\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">rukomoynikov/rails:2.7.1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">command\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">yarn run build -w\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">ports\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">&#39;3035:3035&#39;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">volumes\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">./:/app:cached\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">bundle:/usr/local/bundle\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">node_modules:/app/node_modules\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">packs:/app/public/packs\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">environment\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">WEBPACKER_DEV_SERVER_HOST\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #B5CEA8\">0.0.0.0\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">postgres\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">image\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">postgres:13\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">volumes\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">postgres:/var/lib/postgresql/data\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">environment\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">PSQL_HISTFILE\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">/root/log/.psql_history\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">POSTGRES_PASSWORD\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">postgres\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">ports\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #B5CEA8\">5432\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">healthcheck\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">test\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">pg_isready -U postgres -h 127.0.0.1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">interval\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">5s\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">redis\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">image\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">redis:3.2-alpine\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">volumes\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #CE9178\">redis:/data\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">ports\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      - \u003C/span>\u003Cspan style=\"color: #B5CEA8\">6379\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    \u003C/span>\u003Cspan style=\"color: #569CD6\">healthcheck\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">test\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">redis-cli ping\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">interval\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">1s\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">timeout\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #CE9178\">3s\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">      \u003C/span>\u003Cspan style=\"color: #569CD6\">retries\u003C/span>\u003Cspan style=\"color: #D4D4D4\">: \u003C/span>\u003Cspan style=\"color: #B5CEA8\">30\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">volumes\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">postgres\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">redis\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">bundle\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">rails_cache\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">node_modules\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  \u003C/span>\u003Cspan style=\"color: #569CD6\">packs\u003C/span>\u003Cspan style=\"color: #D4D4D4\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>",raw:"services:\n  web:\n    image: rukomoynikov/rails:2.7.1\n    volumes:\n      - ./:/app\n      - rails_cache:/app/tmp/cache\n      - bundle:/usr/local/bundle\n    ports:\n      - 3000:3000\n    tmpfs:\n      - /tmp\n      - /app/tmp/pids\n    depends_on:\n      postgres:\n        condition: service_healthy\n      redis:\n        condition: service_healthy\n    command: bundle exec rails server -b 0.0.0.0\n  client:\n    image: rukomoynikov/rails:2.7.1\n    command: yarn run build -w\n    ports:\n      - '3035:3035'\n    volumes:\n      - ./:/app:cached\n      - bundle:/usr/local/bundle\n      - node_modules:/app/node_modules\n      - packs:/app/public/packs\n    environment:\n      WEBPACKER_DEV_SERVER_HOST: 0.0.0.0\n  postgres:\n    image: postgres:13\n    volumes:\n      - postgres:/var/lib/postgresql/data\n    environment:\n      PSQL_HISTFILE: /root/log/.psql_history\n      POSTGRES_PASSWORD: postgres\n    ports:\n      - 5432\n    healthcheck:\n      test: pg_isready -U postgres -h 127.0.0.1\n      interval: 5s\n  redis:\n    image: redis:3.2-alpine\n    volumes:\n      - redis:/data\n    ports:\n      - 6379\n    healthcheck:\n      test: redis-cli ping\n      interval: 1s\n      timeout: 3s\n      retries: 30\n\nvolumes:\n  postgres:\n  redis:\n  bundle:\n  rails_cache:\n  node_modules:\n  packs:\n"},"posts/rails-on-docker/example.dockerfile":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">FROM\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> debian:bullseye\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">WORKDIR\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> /app\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">ARG\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> ruby_version=2.7.1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">ARG\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> PG_MAJOR=13\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">ARG\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> NODE_MAJOR=14\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #6A9955\"># Installing general packages\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">RUN\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> apt update \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; apt upgrade -y \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; apt install libpq-dev postgresql-client-$PG_MAJOR gnupg2 git wget curl vim build-essential libssl-dev zlib1g-dev libyaml-dev libffi-dev -y\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #6A9955\"># Installing rbenv and ruby\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">RUN\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> apt install rbenv -y \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; echo \u003C/span>\u003Cspan style=\"color: #CE9178\">&#39;eval &quot;$(rbenv init -)&quot;&#39;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> &gt;&gt; ~/.bashrc \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; rbenv install $ruby_version \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">    &amp;&amp; rbenv global $ruby_version \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; eval \u003C/span>\u003Cspan style=\"color: #CE9178\">&quot;$(rbenv init -)&quot;\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; gem install rails\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #6A9955\">#Installing node and yarn\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">RUN\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> curl -sL https://deb.nodesource.com/setup_$NODE_MAJOR.x | bash - \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; apt install nodejs \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #D4D4D4\">  &amp;&amp; npm i -g yarn\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color: #569CD6\">ENV\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> PATH /root/.rbenv/versions/$ruby_version/bin/:/root/.rbenv/shims:$PATH\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>",raw:"FROM debian:bullseye\n\nWORKDIR /app\n\nARG ruby_version=2.7.1\nARG PG_MAJOR=13\nARG NODE_MAJOR=14\n\n# Installing general packages\nRUN apt update \\\n  && apt upgrade -y \\\n  && apt install libpq-dev postgresql-client-$PG_MAJOR gnupg2 git wget curl vim build-essential libssl-dev zlib1g-dev libyaml-dev libffi-dev -y\n\n# Installing rbenv and ruby\nRUN apt install rbenv -y \\\n  && echo 'eval \"$(rbenv init -)\"' >> ~/.bashrc \\\n  && rbenv install $ruby_version \\\n    && rbenv global $ruby_version \\\n  && eval \"$(rbenv init -)\" \\\n  && gem install rails\n\n#Installing node and yarn\nRUN curl -sL https://deb.nodesource.com/setup_$NODE_MAJOR.x | bash - \\\n  && apt install nodejs \\\n  && npm i -g yarn\n\nENV PATH /root/.rbenv/versions/$ruby_version/bin/:/root/.rbenv/shims:$PATH\n"},"posts/rails-on-docker/rails_bash.sh":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">docker\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">run\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">--rm\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-it\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-p\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #B5CEA8\">3000\u003C/span>\u003Cspan style=\"color: #CE9178\">:3000\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-v\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">/$(\u003C/span>\u003Cspan style=\"color: #DCDCAA\">pwd\u003C/span>\u003Cspan style=\"color: #CE9178\">):/app\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">rukomoynikov/rails\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">bash\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"docker run --rm -it -p 3000:3000 -v /$(pwd):/app rukomoynikov/rails bash"},"posts/rails-on-docker/rails_new.sh":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">docker\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">run\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">--rm\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-v\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">/$(\u003C/span>\u003Cspan style=\"color: #DCDCAA\">pwd\u003C/span>\u003Cspan style=\"color: #CE9178\">):/app\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">rukomoynikov/rails\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">rails\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">new\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">.\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"docker run --rm -v /$(pwd):/app rukomoynikov/rails rails new ."},"posts/rails-on-docker/start_rails.sh":{code:"\u003Cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color: #DCDCAA\">docker\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">run\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">--rm\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-it\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-p\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #B5CEA8\">3000\u003C/span>\u003Cspan style=\"color: #CE9178\">:3000\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-v\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">/$(\u003C/span>\u003Cspan style=\"color: #DCDCAA\">pwd\u003C/span>\u003Cspan style=\"color: #CE9178\">):/app\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">rukomoynikov/rails\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">rails\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #CE9178\">s\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #569CD6\">-b\u003C/span>\u003Cspan style=\"color: #D4D4D4\"> \u003C/span>\u003Cspan style=\"color: #B5CEA8\">0.0\u003C/span>\u003Cspan style=\"color: #CE9178\">.0.0\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",raw:"docker run --rm -it -p 3000:3000 -v /$(pwd):/app rukomoynikov/rails rails s -b 0.0.0.0"}}},"uses":{}},null];

					Promise.all([
						import("../_app/immutable/entry/start.udf3fNGr.js"),
						import("../_app/immutable/entry/app.pdwQACt6.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 6],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
